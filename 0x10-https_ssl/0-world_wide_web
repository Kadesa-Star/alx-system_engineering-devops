#!/usr/bin/env bash
# Bash script to display information about specified subdomains

# Ensure at least one argument is provided
if [ $# -lt 1 ]; then
  echo "Usage: $0 domain [subdomain1 subdomain2 ...]"
  exit 1
fi

# Assign the domain name from the first argument
domain="$1"

# Default subdomains to query
subdomains=("www" "lb-01" "web-01" "web-02")

# Add additional subdomains from arguments, if any
if [ $# -gt 1 ]; then
  subdomains+=("${@:2}")
fi

# Iterate through each subdomain and check its IP address
for subdomain in "${subdomains[@]}"; do
  ip_address=$(dig "$subdomain.$domain" +short)
  
  # Check if IP address is not empty to determine existence
  if [ -n "$ip_address" ]; then
    echo "The subdomain $subdomain has IP address $ip_address"
  else
    echo "The subdomain $subdomain does not exist"
  fi
done
